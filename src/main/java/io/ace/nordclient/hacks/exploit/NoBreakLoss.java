package io.ace.nordclient.hacks.exploit;

import io.ace.nordclient.event.PacketEvent;
import io.ace.nordclient.hacks.Hack;
import net.minecraft.item.ItemFood;
import net.minecraft.network.play.client.CPacketPlayerDigging;
import net.minecraft.network.play.client.CPacketPlayerTryUseItem;
import net.minecraft.util.EnumHand;
import team.stiff.pomelo.impl.annotated.handler.annotation.Listener;

public class NoBreakLoss extends Hack {

    public NoBreakLoss() {
        super("NoBreakLoss", Category.EXPLOIT, 10237501);
    }

    /*public void onUpdate() {
        if (mc.gameSettings.keyBindUseItem.isKeyDown() && mc.player.getHeldItemMainhand().getItem() instanceof ItemFood) {
            mc.player.canEat(true);
            mc.player.connection.sendPacket(new CPacketPlayerTryUseItem(EnumHand.MAIN_HAND));
        } */
    //}

    @Listener
    public void onUpdate(PacketEvent.Send event) {
        if (event.getPacket() instanceof CPacketPlayerDigging) {
            if (((CPacketPlayerDigging) event.getPacket()).getAction().equals(CPacketPlayerDigging.Action.ABORT_DESTROY_BLOCK)) {
                event.setCanceled(true);
            }
        }
    }
}
